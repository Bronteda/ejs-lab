<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
</head>

<body>
    <%- include('./partials/nav') %>
        <h1>Full Menu</h1>

        <% const fullMenu={ 
            mains: [], 
            desserts: [], 
            sides: [] 
        }; 

            menu.forEach(item=> {
                const category = item.category;

                // Check if item is already in the array by ID and adds it to the array
                const alreadyExists = fullMenu[category].some(existingItem => existingItem.id === item.id);

                if (!alreadyExists) {
                    fullMenu[category].push({
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    rating: item.rating,
                    details: item.details
                    });
                }   
            });
        %>

        <h2>Mains</h2>
        <ul>
            <% fullMenu.mains.forEach(item => { %>
            <li><%= item.name %>: £<%= item.price %> Rating : <%= item.rating %></li>
            <% }); %>
        </ul>
        <h2>Desserts</h2>
        <ul>
            <% fullMenu.desserts.forEach(item => { %>
            <li><%= item.name %>: £<%= item.price %> Rating : <%= item.rating %></li>
            <% }); %>
        </ul>
        <h2>Sides</h2>
        <ul>
            <% fullMenu.sides.forEach(item => { %>
            <li><%= item.name %>: £<%= item.price %> Rating : <%= item.rating %></li>
            <% }); %>
        </ul>




</body>

</html>